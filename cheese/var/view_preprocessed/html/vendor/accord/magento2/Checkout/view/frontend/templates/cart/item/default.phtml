<?php /** @var $block \Accord\Checkout\Block\Cart\Item\Renderer */ $_item = $block->getItem(); $product = $block->initProductAttributes( $_item->getProduct() ); $isVisibleProduct = $product->isVisibleInSiteVisibility(); /** @var \Magento\Msrp\Helper\Data $helper */ $helper = $this->helper('Magento\Msrp\Helper\Data'); $canApplyMsrp = $helper->isShowBeforeOrderConfirm($product) && $helper->isMinimalPriceLessMsrp($product); ?> <?php $scope = uniqid('ko_itemGrid_'); ?> <tbody class="cart item" data-bind="scope: '<?= $scope; ?>'"><tr class="item-info"><td data-th="<?php echo $block->escapeHtml(__('Item')); ?>" class="col item"><div class="clearfix"><?php if ($block->hasProductUrl()):?> <a href="<?php /* @escapeNotVerified */ echo $block->getProductUrl() ?>" title="<?php echo $block->escapeHtml($block->getProductName()) ?>" tabindex="-1" class="product-item-photo"><?php else:?> <span class="product-item-photo"><?php endif;?> <?php echo $block->getImage($block->getProductForThumbnail(), 'cart_page_product_thumbnail')->toHtml(); ?> <?php if ($block->hasProductUrl()):?></a> <?php else: ?></span> <?php endif; ?> <div class="product-item-details"><strong class="product-item-name"><?php if ($block->hasProductUrl()):?> <a href="<?php /* @escapeNotVerified */ echo $block->getProductUrl() ?>"><?php echo $block->escapeHtml($block->getProductName()) ?></a> <?php else: ?> <?php echo $block->escapeHtml($block->getProductName()) ?> <?php endif; ?></strong> <div class="product-item-details__price-wr"><?php if ($canApplyMsrp): ?> <div class="product-item-details__price visible-xs-inline-block"><span class="cart msrp subtotal">--</span></div><?php else: ?> <div class="product-item-details__price visible-xs-inline-block"><span class="price-excluding-tax" data-label="Excl. Tax"><span class="cart-price"><span class="price" data-bind="html: getRowTotal()"></span></span></span></div><?php endif; ?> <?php if ($canApplyMsrp): ?> <span class="pricing msrp visible-xs-inline-block"><span class="msrp notice"><?php /* @escapeNotVerified */ echo __('See price before order confirmation.'); ?></span> <?php $helpLinkId = 'cart-msrp-help-' . $_item->getId(); ?> <a href="#" class="action help map" id="<?php /* @escapeNotVerified */ echo($helpLinkId); ?>" data-mage-init='{"addToCart":{"helpLinkId": "#<?php /* @escapeNotVerified */ echo $helpLinkId;?>","productName": "<?php /* @escapeNotVerified */ echo $product->getName(); ?>","showAddToCart": false}}'><span><?php /* @escapeNotVerified */ echo __("What's this?"); ?></span></a></span> <?php else: ?> <div class="visible-xs-inline-block"><input type="hidden" data-bind="value: priceWithoutFormat" name="cart[<?= $_item->getId() ?>][customPrice]"><span class="price-excluding-tax" data-label="Excl. Tax" data-bind="if: (qtyInit > 1)"> (<span class="cart-price" data-bind="html: getCalculatePrice()"></span> each)</span></div><?php endif; ?></div><div class="product-item-details__list hidden-xs"><div class="row"><div class="col-xs-5"><div class="product-item-details__label">Code</div></div><div class="col-xs-7"><div class="product-item-details__value"><?= $product->getSku(); ?></div></div></div><div class="row"><div class="col-xs-5"><div class="product-item-details__label">Pack Size</div></div><div class="col-xs-7"><div class="product-item-details__value" data-bind="html: packSize"></div></div></div><div class="row"><div class="col-xs-5"><div class="product-item-details__label">Line Message</div></div><div class="col-xs-7"><div class="product-item-details__value line-message-link"><span data-bind="text: lineMessageModel().currentMessage()"></span> <input type="hidden" name="cart[<?= $_item->getId() ?>][currentMessage]" data-bind="value: lineMessageModel().currentMessage()" name="currentMessage"><span data-bind="with: lineMessageModel()"><!-- ko template: getTemplate()--><!-- /ko --></span></div></div></div><!-- ko if: freeLine --><div class="row"><div class="col-xs-5"><div class="product-item-details__label">Free</div></div><div class="col-xs-7"><div class="product-item-details__value line-message-link"><span style="color: white" data-bind="text: mixMatchCode"></span></div></div></div><!-- /ko --></div><?php if ($_options = $block->getOptionList()):?> <dl class="item-options"><?php foreach ($_options as $_option) : ?> <?php $_formatedOptionValue = $block->getFormatedOptionValue($_option) ?> <dt><?php echo $block->escapeHtml($_option['label']) ?></dt><dd><?php if (isset($_formatedOptionValue['full_view'])): ?> <?php /* @escapeNotVerified */ echo $_formatedOptionValue['full_view'] ?> <?php else: ?> <?php /* @escapeNotVerified */ echo $_formatedOptionValue['value'] ?> <?php endif; ?></dd><?php endforeach; ?></dl><?php endif;?> <?php if ($messages = $block->getMessages()): ?> <?php foreach ($messages as $message): ?> <div class="cart item message <?php /* @escapeNotVerified */ echo $message['type'] ?>"><div><?php echo $block->escapeHtml($message['text']) ?></div></div><?php endforeach; ?> <?php endif; ?> <?php $addInfoBlock = $block->getProductAdditionalInformationBlock(); ?> <?php if ($addInfoBlock): ?> <?php echo $addInfoBlock->setItem($_item)->toHtml() ?> <?php endif;?></div></div></td><?php if ($canApplyMsrp): ?> <td class="col msrp hidden-xs" data-th="<?php echo $block->escapeHtml(__('Price')); ?>"><span class="pricing msrp"><span class="msrp notice"><?php /* @escapeNotVerified */ echo __('See price before order confirmation.'); ?></span> <?php $helpLinkId = 'cart-msrp-help-' . $_item->getId(); ?> <a href="#" class="action help map" id="<?php /* @escapeNotVerified */ echo($helpLinkId); ?>" data-mage-init='{"addToCart":{"helpLinkId": "#<?php /* @escapeNotVerified */ echo $helpLinkId;?>","productName": "<?php /* @escapeNotVerified */ echo $product->getName(); ?>","showAddToCart": false}}'><span><?php /* @escapeNotVerified */ echo __("What's this?"); ?></span></a></span></td><?php else: ?> <td class="col price hidden-xs" data-th="<?php echo $block->escapeHtml(__('Price')); ?>"><input type="hidden" data-bind="value: priceWithoutFormat" name="cart[<?= $_item->getId() ?>][customPrice]"><span class="price-excluding-tax" data-label="Excl. Tax"><span class="cart-price" data-bind="html: getCalculatePrice()"></span> <!--ko if: isWeighted() --><span class="weight-price-block" data-bind="html: weightUtil"></span> <!--/ko --></span></td><?php endif; ?> <td class="col qty" data-th="<?php echo $block->escapeHtml(__('Qty')); ?>"><div class="clearfix qty__value-wr"><div class="qty__wr"><!-- ko template: "Accord_Ui/inc/qty"--><!-- /ko --></div><div class="qty-type__wr"><!-- ko template: "Accord_Ui/inc/qtyType"--><!-- /ko --><input type="hidden" data-bind="value: qtyTypeValue" name="cart[<?= $_item->getId() ?>][qtyTypeValue]"></div><label class="label" for="cart-<?php /* @escapeNotVerified */ echo $_item->getId() ?>-qty"><span><?php /* @escapeNotVerified */ echo __('Qty') ?></span></label> <div class="control qty"><input id="cart-<?php /* @escapeNotVerified */ echo $_item->getId() ?>-qty" name="cart[<?php /* @escapeNotVerified */ echo $_item->getId() ?>][qty]" data-cart-item-id="<?php /* @escapeNotVerified */ echo $_item->getSku() ?>" data-bind="value: qty" type="hidden" size="4" title="<?php echo $block->escapeHtml(__('Qty')); ?>" class="input-text qty" maxlength="12" data-validate="{required:true,'validate-greater-than-zero':true}" data-role="cart-item-qty"/></div></div></td><td class="col subtotal hidden-xs" data-th="<?php echo $block->escapeHtml(__('Subtotal'));?>"><?php if ($canApplyMsrp): ?> <span class="cart msrp subtotal">--</span> <?php else: ?> <span class="price-excluding-tax" data-label="Excl. Tax"><span class="cart-price"><span class="price" data-bind="html: getRowTotal()"></span></span></span> <?php endif; ?></td></tr><tr class="item-actions"><td colspan="100"><div class="actions-toolbar"><?php /* @escapeNotVerified */ echo $block->getActions($_item) ?></div><div class="see-details-item visible-xs-block"><a role="button" data-toggle="collapse" href="#collapseSeeDetailsCh_<?=$_item->getId()?>" aria-expanded="false" class="see-details-item__collaple-btn collapsed">See Details <i aria-hidden="true" class="fa fa-angle-down"></i></a> <div id="collapseSeeDetailsCh_<?=$_item->getId()?>" class="collapse" aria-expanded="false" style=""><div class="product-item-details__list"><div class="row"><div class="col-xs-5"><div class="product-item-details__label">Code</div></div><div class="col-xs-7"><div class="product-item-details__value"><?= $product->getSku(); ?></div></div></div><div class="row"><div class="col-xs-5"><div class="product-item-details__label">Pack Size</div></div><div class="col-xs-7"><div class="product-item-details__value" data-bind="html: packSize"></div></div></div><div class="row"><div class="col-xs-5"><div class="product-item-details__label">Line Message</div></div><div class="col-xs-7"><div class="product-item-details__value line-message-link"><span data-bind="text: lineMessageModel().currentMessage()"></span> <input type="hidden" name="cart[<?= $_item->getId() ?>][currentMessage]" data-bind="value: lineMessageModel().currentMessage()" name="currentMessage"><span data-bind="with: lineMessageModel()"><!-- ko template: getTemplate()--><!-- /ko --></span></div></div></div><!-- ko if: freeLine --><div class="row"><div class="col-xs-5"><div class="product-item-details__label">Free</div></div><div class="col-xs-7"><div class="product-item-details__value line-message-link"><span style="color: white" data-bind="text: mixMatchCode"></span></div></div></div><!-- /ko --></div></div></div></td></tr></tbody><script type="text/x-magento-init">
    {
        "*": {
            "Magento_Ui/js/core/app": {
                "components": {
                    "<?= $scope ?>": {
                        "templateLineMessage": "Accord_Ui/cartLineMessage",
                        "component": "Accord_Ui/ko/itemCart",
                        "data": <?= json_encode($block->decorateQuoteProduct($product, $_item)) ?>
                    }
                }
            }
        }
    }</script>