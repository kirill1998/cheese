<?php /** * Category layered navigation * * @var \Accord\Offers\Block\SpecialOffers\Navigation $block */ ?> <?php if ($block->canShowBlock()): ?> <div class="block filter" id="layered-filter-block" data-mage-init='{"collapsible":{"openedState": "active", "collapsible": true, "active": false, "collateral": { "openedState": "filter-active", "element": "body" } }}'><?php $filtered = count($block->getStateFilters()) ?> <div class="block-title filter-title" data-count="<?php /* @escapeNotVerified */ echo $filtered; ?>"><strong data-role="title"><?php /* @escapeNotVerified */ echo __('Shop By') ?></strong></div><div class="block-content filter-content"><?php echo $block->getStateHtml() ?> <?php if ($block->getStateFilters()): ?> <div class="block-actions filter-actions"><a href="<?php /* @escapeNotVerified */ echo $block->getClearUrl() ?>" class="action clear filter-clear"><span><?php /* @escapeNotVerified */ echo __('Clear All') ?></span></a></div><?php endif; ?> <?php $wrapOptions = false; ?> <?php foreach ($block->getFilters() as $filter): ?> <?php if ($filter->getItemsCount()): ?> <?php if (!$wrapOptions): ?> <strong role="heading" aria-level="2" class="block-subtitle filter-subtitle"><?php /* @escapeNotVerified */ echo __('Filter Special Offers') ?></strong> <div class="filter-options" id="narrow-by-list" data-role="content" data-mage-init='{"accordion":{"openedState": "active", "collapsible": true, "active": false, "multipleCollapsible": false}}'><?php $wrapOptions = true; endif; ?> <div data-role="collapsible" class="filter-options-item"><div data-role="title" class="filter-options-title"><span><?php /* @escapeNotVerified */ echo __($filter->getName()) ?></span></div><div data-role="content" class="filter-options-content"><?php /* @escapeNotVerified */ echo $block->renderFilter($filter); ?></div></div><?php endif; ?> <?php endforeach; ?> <?php if ($wrapOptions): ?></div><?php else: ?> <script>
                    require([
                        'jquery'
                    ], function ($) {
                        $('#layered-filter-block').addClass('filter-no-options');
                    });</script><?php endif; ?></div></div><?php endif; ?>