<?php /** * Recent Statements table * * @var \Accord\Customer\Block\Dashboard\Statements $block */ ?> <div class="block block-dashboard-statements"><div class="block-title block-title_table"><strong>Recent Statements</strong> <?php if ($block->getStatements()): ?> <a href="<?= $block->getUrl('user/statement/history') ?>" class="action view"><span>View All</span></a> <?php endif; ?></div><?php if (!$block->getStatements()): ?> <div class="message info empty"><span>You currently have no statements.</span></div><?php else: ?> <div class="block-content block-content_table"><div class="table-wrapper statements-recent"><table id="my-statements-table" class="data table table-order-items recent table-centre-values-sm"><caption class="table-caption">Recent Statements</caption><thead><tr><th scope="col" class="col date">Date</th><th scope="col" class="col customer">Customer #</th><th scope="col" class="col id">Ledger Code</th><th scope="col" class="col shipping">Week Number</th><th scope="col" class="col total">Statement #</th><th scope="col" class="col actions"></th></tr></thead><tbody><?php foreach ($block->getStatementItems() as $item): ?> <tr><td data-th="Date" class="col date"><?= date('d/m/Y', strtotime($item->statementDate)); ?></td><td data-th="Order #" class="col customer"><?= $item->accountCode ?></td><td data-th="Ledger Code" class="col id"><?= $item->ledgerCode ?></td><td data-th="Week Number" class="col shipping"><?= $item->weekNo ?></td><td data-th="Statement #" class="col total"><?= $item->statementNo ?></td><td data-th="Actions" class="col actions"><a href="<?= $block->getDownloadUrl($item) ?>" class="action view"><span>Download</span></a></td></tr><?php endforeach; ?></tbody></table></div></div><?php endif; ?></div>