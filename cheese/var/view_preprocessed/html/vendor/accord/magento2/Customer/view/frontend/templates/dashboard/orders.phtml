<?php /** * Recent Orders table * * @var \Accord\Customer\Block\Dashboard\Orders $block */ ?> <?php /** @var \Magento\Sales\Model\ResourceModel\Order\Collection $orders */ $orders = $block->getOrders(); ?> <div class="block block-dashboard-orders"><div class="block-title block-title_table"><strong>Recent Orders</strong> <?php if (sizeof($orders->getItems()) > 0): ?> <a class="action view" href="<?php echo $block->getUrl('sales/order/history') ?>"><span>View All</span></a> <?php endif; ?></div><?php if (sizeof($orders->getItems()) == 0): ?> <div class="message info empty"><span>You have placed no orders.</span></div><?php else: ?> <div class="block-content block-content_table"><div class="table-wrapper orders-recent"><table id="my-orders-table" class="data table table-order-items recent table-centre-values-sm"><caption class="table-caption">Recent Orders</caption><thead><tr><th scope="col" class="col id">Order #</th><th scope="col" class="col customer">Customer #</th><th scope="col" class="col date">Order date</th><th scope="col" class="col shipping">Delivery Date</th><th scope="col" class="col total">Channel</th><th scope="col" class="col total">Total</th><th scope="col" class="col status">Status</th><th scope="col" class="col actions"></th></tr></thead><tbody><?php /** @var \Magento\Sales\Model\Order $order */ foreach ($orders as $order): ?> <tr><td data-th="Order #" class="col id"><?= $block->getOrderNumber($order) ?></td><td data-th="Order #" class="col customer"><?= $order->getData('ext_customer_id') ?></td><td data-th="Order date" class="col date"><?= $block->formatDate($order->getCreatedAt()) ?></td><td data-th="Delivery Date" class="col shipping"><?php if ($date = $order->getData('ac_delivery_date')) { echo $block->formatDate($date); } ?></td><td data-th="Channel" class="col status"><?= $block->getOrderChannel($order); ?></td><td data-th="Total" class="col total price"><?= $block->getFormattedPrice($order->getGrandTotal()) ?></td><td data-th="Status" class="col status"><?= $order->getStatusLabel() ?></td><td data-th="Actions" class="col actions"><a href="<?= $block->getViewUrl($order) ?>" class="action view"><span>View</span></a> <a href="<?= $block->getReorderUrl($order) ?>" class="action order"><span>Reorder</span></a></td></tr><?php endforeach; ?></tbody></table></div></div><?php endif; ?></div>